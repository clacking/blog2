---
title: ReCapchaの自動化
date: "2019-09-04T17:00:50.415Z"
update: "2019-09-04T17:00:50.415Z"
tags: [bot, automation, memo]
lang: ja-JP
orig: yes
---

現在のReCapchaはGoogleのスコア次第でワンクリックで通すことができます。

そのスコアを信頼度とし、基本的には以下の事で高くなると考えられています。

* 古いGoogleのアカウントでログインしている

* アクティブなアカウントでログインしている

  * Googleのサービス(検索、YoutubeやGmailなど)をある程度利用している

## ワンクリッキング

信頼度の高いアカウントがある場合は自動でチェックボックスをクリックしトークンをもらうことができます。

### 自動化の例

ReCapchaは埋め込まれているサイトのドメインとサイトキーでトークンを発行します。

Webをレンダーできるフレームワークなどを利用します。Electronや[Carlo](https://github.com/GoogleChromeLabs/carlo)、
ヘッドレスブラウザなどを使うと良いです。

必要なトリック

#### Sitekey

ターゲットより事前に取得しておきます。

#### ページのlocationをターゲットのサイトのURLにする

プロキシでどのURLにアクセスしようとしてもCapchaのページを表示できるようにします。

またページを読み込みスクリプトをインジェクトしてしまうという手もあるかと思います。（あまりおすすめしませんが）

## ReCapchaは無意味か？

全くもってそんなことはないと思います。

高頻度にキャプチャを要求していると問題の出現率や難易度が上がっていく為、
多数のページをクロールするBOTなどにはReCapchaは効果的だと考えられます。
